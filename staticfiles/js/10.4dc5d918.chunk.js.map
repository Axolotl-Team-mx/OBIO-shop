{"version":3,"sources":["../node_modules/react-bootstrap/esm/Spinner.js","../node_modules/react-bootstrap/esm/Image.js","components/ProductPanel/index.js","views/Dashboard/ProductsList/index.js","api/index.js","components/Loader/index.js"],"names":["_excluded","Spinner","React","forwardRef","_ref","ref","bsPrefix","variant","animation","size","children","_ref$as","as","Component","className","props","_objectWithoutPropertiesLoose","bsSpinnerPrefix","useBootstrapPrefix","createElement","_extends","classNames","displayName","Image","PropTypes","string","bool","fluid","rounded","roundedCircle","thumbnail","classes","defaultProps","ProductPanel","product","Row","Col","md","xs","prodPic","src","style","color","name","prodId","prodPrice","prodDesc","ProductListScreen","history","dispatch","useDispatch","userInfo","useSelector","state","userLogin","productDelete","successDelete","success","productList","loading","products","useEffect","isAdmin","callApi","SUCESS","actions","PRODUCT_LIST_SUCCESS","FAIL","PRODUCT_LIST_FAIL","REQUEST","PRODUCT_LIST_REQUEST","push","Container","minHeight","to","Button","marginLeft","Loader","map","id","onClick","window","confirm","PRODUCT_DELETE_SUCESS","PRODUCT_DELETE_FAIL","PRODUCT_DELETE_REQUEST","token","url","method","body","constants","isImage","undefined","a","type","axios","data","headers","payload","console","log","message","role","height","width","display","margin"],"mappings":"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","file":"static/js/10.4dc5d918.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"variant\", \"animation\", \"size\", \"children\", \"as\", \"className\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Spinner = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      animation = _ref.animation,\n      size = _ref.size,\n      children = _ref.children,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'spinner');\n  var bsSpinnerPrefix = bsPrefix + \"-\" + animation;\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsSpinnerPrefix, size && bsSpinnerPrefix + \"-\" + size, variant && \"text-\" + variant)\n  }), children);\n});\nSpinner.displayName = 'Spinner';\nexport default Spinner;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"fluid\", \"rounded\", \"roundedCircle\", \"thumbnail\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { useBootstrapPrefix } from './ThemeProvider';\nexport var propTypes = {\n  /**\n   * @default 'img'\n   */\n  bsPrefix: PropTypes.string,\n\n  /**\n   * Sets image as fluid image.\n   */\n  fluid: PropTypes.bool,\n\n  /**\n   * Sets image shape as rounded.\n   */\n  rounded: PropTypes.bool,\n\n  /**\n   * Sets image shape as circle.\n   */\n  roundedCircle: PropTypes.bool,\n\n  /**\n   * Sets image shape as thumbnail.\n   */\n  thumbnail: PropTypes.bool\n};\nvar defaultProps = {\n  fluid: false,\n  rounded: false,\n  roundedCircle: false,\n  thumbnail: false\n};\nvar Image = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      fluid = _ref.fluid,\n      rounded = _ref.rounded,\n      roundedCircle = _ref.roundedCircle,\n      thumbnail = _ref.thumbnail,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'img');\n  var classes = classNames(fluid && bsPrefix + \"-fluid\", rounded && \"rounded\", roundedCircle && \"rounded-circle\", thumbnail && bsPrefix + \"-thumbnail\");\n  return /*#__PURE__*/React.createElement(\"img\", _extends({\n    // eslint-disable-line jsx-a11y/alt-text\n    ref: ref\n  }, props, {\n    className: classNames(className, classes)\n  }));\n});\nImage.displayName = 'Image';\nImage.defaultProps = defaultProps;\nexport default Image;","import { Image, Row, Col } from \"react-bootstrap\";\nimport \"./styles.css\";\nexport default function ProductPanel({ product, children }) {\n  return (\n    <Row className=\"d-flex w-100 product-panel\">\n      <Col md={3} xs={12}>\n        {product?.prodPic && (\n          <div className=\"d-flex justify-content-center\">\n            <Image\n              className=\"d-block my-4 shadow\"\n              src={`https://res.cloudinary.com/majo-floral-desing/${product.prodPic}`}\n            />\n          </div>\n        )}\n      </Col>\n      <Col className=\"p-4\" md={9} xs={12}>\n        <h4 style={{ color: \"#333\" }}>{product?.name}</h4>\n        {/* <h6><b>Categor√≠a</b> {product?.nameCategorie}</h6> */}\n        <span>\n          <b>ID:</b> {product?.prodId}\n        </span>\n        <span>\n          <b>Precio: </b>$ {product?.prodPrice}\n        </span>\n        <span>{product?.prodDesc}</span>\n        {children}\n      </Col>\n    </Row>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Row, Col, Container, Form } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\n//Components\nimport ProductPanel from \"../../../components/ProductPanel\";\nimport Loader from \"../../../components/Loader\";\n//api\nimport { callApi } from \"../../../api\";\nimport { actions } from \"../../../constants/productConstants\";\n\nexport default function ProductListScreen({ history }) {\n  const dispatch = useDispatch();\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const productDelete = useSelector((state) => state.productDelete);\n  const { success: successDelete, loading: loadingDelete } = productDelete;\n\n  const productList = useSelector((state) => state.productList);\n  const { success, loading, products } = productList;\n  const handleDelete = (id) => {\n    if (window.confirm(\"Seguro que deseas eliminar este producto?\")) {\n      dispatch(\n        callApi(\n          `/api/products/deleteproduct/${id}/`,\n          \"DELETE\",\n          {},\n          {\n            SUCESS: actions.PRODUCT_DELETE_SUCESS,\n            FAIL: actions.PRODUCT_DELETE_FAIL,\n            REQUEST: actions.PRODUCT_DELETE_REQUEST,\n          },\n          false,\n          userInfo.token\n        )\n      );\n    }\n  };\n  useEffect(() => {\n    if (userInfo?.isAdmin) {\n      dispatch(\n        callApi(\n          `/api/products/getproducts/`,\n          \"GET\",\n          {},\n          {\n            SUCESS: actions.PRODUCT_LIST_SUCCESS,\n            FAIL: actions.PRODUCT_LIST_FAIL,\n            REQUEST: actions.PRODUCT_LIST_REQUEST,\n          }\n        )\n      );\n    } else {\n      history.push(\"/\");\n    }\n  }, [userInfo, history, successDelete]);\n  return (\n    <Container className=\"mt-5\" style={{ minHeight: \"80vh\" }}>\n      <Row>\n        <Col>\n          <h1>Productos</h1>\n        </Col>\n        <Col>\n          <Link to=\"/products/register\">\n            <Button\n              variant=\"primary\"\n              className=\"d-block\"\n              style={{ marginLeft: \"auto\" }}\n            >\n              <i className=\"fas fa-plus\"></i> Crear producto\n            </Button>\n          </Link>\n        </Col>\n        <>\n          <Row className=\"w-100 m-0\">\n            {loading ? (\n              <Loader />\n            ) : (\n              <>\n                {products?.map((product) => (\n                  <Col xs={12} className=\"d-flex justify-content-center m-0\">\n                    <ProductPanel product={product}>\n                      <Link to={`/admin/products/edit/${product.id}/`}>\n                        <Button variant=\"primary\" className=\"btn-sm mr-2\">\n                          <i className=\"fas fa-edit\"></i>\n                        </Button>\n                      </Link>\n                      <Button\n                        variant=\"danger\"\n                        className=\"btn-sm\"\n                        onClick={() => {\n                          handleDelete(product.prodId);\n                        }}\n                      >\n                        <i className=\"fas fa-trash\"></i>\n                      </Button>\n                    </ProductPanel>\n                  </Col>\n                ))}\n              </>\n            )}\n          </Row>\n        </>\n      </Row>\n    </Container>\n  );\n}\n","import axios from \"axios\";\n\nexport const callApi =\n  (url, method, body, constants, isImage = false, token=undefined) =>\n  async (dispatch) => {\n    const { REQUEST, SUCESS, FAIL } = constants;\n    try {\n      \n      dispatch({ type: REQUEST });\n      const { data } = await axios({\n        method,\n        url: url,\n        data: body,\n        headers: {\n          \"Content-Type\": isImage ? \"multipart/form-data\" : \"application/json\",\n          'Authorization': token ? `Bearer ${token}` : \"\",\n        },\n      });\n      dispatch({ type: SUCESS, payload: data });\n    } catch (error) {\n      console.log(error)\n      dispatch({\n        type: FAIL,\n        payload: error.message,\n      });\n    }\n  };","import { Spinner } from \"react-bootstrap\";\nexport default function Loader() {\n  return (\n    <Spinner\n      animation=\"border\"\n      role=\"status\"\n      style={{\n        height: \"100px\",\n        width: \"100px\",\n        display: \"block\",\n        margin: \"auto\",\n      }}\n    />\n  );\n}"],"sourceRoot":""}