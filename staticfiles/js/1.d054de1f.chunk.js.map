{"version":3,"sources":["views/Dashboard/RegisterBrand/index.js","components/Message/index.js","components/FormContainer/index.js","api/index.js"],"names":["initialState","name","description","RegisterBrand","history","useState","brand","setBrand","dispatch","useDispatch","userInfo","useSelector","state","userLogin","brandRegister","loading","error","success","handleChange","event","target","value","useEffect","push","type","actions","BRAND_REGISTER_RESET","style","marginTop","onSubmit","e","preventDefault","callApi","SUCESS","BRAND_REGISTER_SUCCESS","REQUEST","BRAND_REGISTER_REQUEST","FAIL","BRAND_REGISTER_FAIL","token","Group","controlId","Label","Control","placeholder","onChange","required","as","variant","Message","children","React","open","setOpen","onClose","FormContainer","className","width","margin","xs","url","method","body","constants","isImage","undefined","a","axios","data","headers","payload","console","log","message"],"mappings":"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","file":"static/js/1.d054de1f.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Form, Button } from \"react-bootstrap\";\n\nimport FormContainer from \"../../../components/FormContainer\";\nimport LoaderLogo from \"../../../components/LoaderLogo\";\nimport Message from \"../../../components/Message\";\n\nimport { actions } from \"../../../constants/brandConstants\";\nimport { callApi } from \"../../../api\";\n\nconst initialState = {\n  name: \"\",\n  description: \"\",\n};\nexport default function RegisterBrand({ history }) {\n  const [brand, setBrand] = useState(initialState);\n  const dispatch = useDispatch();\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const brandRegister = useSelector((state) => state.brandRegister);\n  const { loading, error, success } = brandRegister;\n\n  const handleChange = (event) => {\n    setBrand({\n      ...brand,\n      [event.target.name]: event.target.value,\n    });\n  };\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(\n      callApi(\"/api/brands/createbrand/\", \"POST\", brand, {\n        SUCESS: actions.BRAND_REGISTER_SUCCESS,\n        REQUEST: actions.BRAND_REGISTER_REQUEST,\n        FAIL: actions.BRAND_REGISTER_FAIL,\n      }, false, userInfo.token)\n    );\n  };\n\n  useEffect(() => {\n    // if (!userInfo) history.push(\"/\");\n    if (success) history.push(\"/admin/categorias/\");\n    dispatch({\n      type: actions.BRAND_REGISTER_RESET,\n    });\n  }, [history, userInfo, success]);\n\n  return (\n    <div style={{ marginTop: \"10vh\" }}>\n      <main>\n        <FormContainer>\n          <h2>Registrar marca</h2>\n          <Form onSubmit={submitHandler}>\n            <Form.Group controlId=\"name\">\n              <Form.Label>Nombre de marca</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Ingresa el nombre de la marca\"\n                onChange={handleChange}\n                required\n              ></Form.Control>\n            </Form.Group>\n            <Form.Group controlId=\"description\">\n              <Form.Label>Descripcion de la marca</Form.Label>\n              <Form.Control\n                type=\"text\"\n                as='textarea'\n                name=\"description\"\n                placeholder=\"Ingresa la descripcion de la marca\"\n                onChange={handleChange}\n                required\n              ></Form.Control>\n            </Form.Group>\n\n            {loading ? (\n              <LoaderLogo />\n            ) : error ? (\n              <>\n                <Message variant=\"danger\">{error}</Message>\n                <Button type=\"submit\" variant=\"primary\">\n                  Registrar categor√≠a\n                </Button>\n              </>\n            ) : (\n              <Button type=\"submit\" variant=\"primary\">\n                Registrar marca\n              </Button>\n            )}\n          </Form>\n        </FormContainer>\n      </main>\n    </div>\n  );\n}\n","import React from 'react'\nimport { Alert } from 'react-bootstrap'\nexport default function Message({variant, children}){\n    const [open, setOpen] = React.useState(true);\n    if (open){\n        return (\n            <Alert  variant={variant} onClose={()=>setOpen(!open)}>\n                {children}\n            </Alert>\n        )\n    }else{\n        return null;\n    }\n}","import { Container, Row, Col } from \"react-bootstrap\";\n\nexport default function FormContainer({ children }) {\n  return (\n    <Container className=\"py-5\">\n      <main>\n        <Row\n          className=\"justify-content-md-center\"\n          style={{ width: \"100%\", margin: \"0\" }}\n        >\n          <Col xs={12}>{children}</Col>\n        </Row>\n      </main>\n    </Container>\n  );\n}","import axios from \"axios\";\n\nexport const callApi =\n  (url, method, body, constants, isImage = false, token=undefined) =>\n  async (dispatch) => {\n    const { REQUEST, SUCESS, FAIL } = constants;\n    try {\n      \n      dispatch({ type: REQUEST });\n      const { data } = await axios({\n        method,\n        url: url,\n        data: body,\n        headers: {\n          \"Content-Type\": isImage ? \"multipart/form-data\" : \"application/json\",\n          'Authorization': token ? `Bearer ${token}` : \"\",\n        },\n      });\n      dispatch({ type: SUCESS, payload: data });\n    } catch (error) {\n      console.log(error)\n      dispatch({\n        type: FAIL,\n        payload: error.message,\n      });\n    }\n  };"],"sourceRoot":""}