{"version":3,"sources":["constants/productConstants.js","views/Dashboard/RegisterProduct/index.js","components/Message/index.js","components/FormContainer/index.js","api/index.js"],"names":["actions","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAIL","PRODUCT_CREATE_RESET","PRODUCT_EDIT_REQUEST","PRODUCT_EDIT_SUCCESS","PRODUCT_EDIT_FAIL","PRODUCT_EDIT_RESET","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_LIST_RESET","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_DETAILS_RESET","initialState","name","description","price","sucId","marcId","catId","RegisterProduct","history","useState","product","setProduct","image","setImage","dispatch","useDispatch","userInfo","useSelector","state","userLogin","handleChange","event","target","value","style","marginTop","FormContainer","width","Form","onSubmit","e","preventDefault","productData","FormData","append","callApi","SUCESS","REQUEST","FAIL","token","Group","controlId","Label","Control","type","placeholder","onChange","as","rows","readOnly","File","id","label","custom","console","log","files","Button","variant","Message","children","React","open","setOpen","onClose","className","margin","xs","url","method","body","constants","isImage","undefined","a","axios","data","headers","payload","message"],"mappings":"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","file":"static/js/6.2b5f0b22.chunk.js","sourcesContent":["export  const actions = {\n    //PRODUCT_CREATE\n    PRODUCT_CREATE_REQUEST: \"PRODUCT_CREATE_REQUEST\",\n    PRODUCT_CREATE_SUCCESS: \"PRODUCT_CREATE_SUCCESS\",\n    PRODUCT_CREATE_FAIL: \"PRODUCT_CREATE_FAIL\",\n    PRODUCT_CREATE_RESET: \"PRODUCT_CREATE_RESET\",\n    //PRODUCT_EDIT\n    PRODUCT_EDIT_REQUEST: \"PRODUCT_EDIT_REQUEST\",\n    PRODUCT_EDIT_SUCCESS: \"PRODUCT_EDIT_SUCCESS\",\n    PRODUCT_EDIT_FAIL: \"PRODUCT_EDIT_FAIL\",\n    PRODUCT_EDIT_RESET: \"PRODUCT_EDIT_RESET\",\n    //PRODUCT_LIST\n    PRODUCT_LIST_REQUEST: \"PRODUCT_LIST_REQUEST\",\n    PRODUCT_LIST_SUCCESS: \"PRODUCT_LIST_SUCCESS\",\n    PRODUCT_LIST_FAIL: \"PRODUCT_LIST_FAIL\",\n    PRODUCT_LIST_RESET: \"PRODUCT_LIST_RESET\",\n    //PRODUCT_DETAILS\n    PRODUCT_DETAILS_REQUEST: \"PRODUCT_DETAILS_REQUEST\",\n    PRODUCT_DETAILS_SUCCESS: \"PRODUCT_DETAILS_SUCCESS\",\n    PRODUCT_DETAILS_FAIL: \"PRODUCT_DETAILS_FAIL\",\n    PRODUCT_DETAILS_RESET: \"PRODUCT_DETAILS_RESET\",\n    //PRODUCT_DETAILS\n    PRODUCT_DETAILS_REQUEST: \"PRODUCT_DETAILS_REQUEST\",\n    PRODUCT_DETAILS_SUCCESS: \"PRODUCT_DETAILS_SUCCESS\",\n    PRODUCT_DETAILS_FAIL: \"PRODUCT_DETAILS_FAIL\",\n    PRODUCT_DETAILS_RESET: \"PRODUCT_DETAILS_RESET\",\n  };\n  ","import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Button, Form, Image } from \"react-bootstrap\";\nimport FormContainer from \"../../../components/FormContainer\";\n\nimport LoaderLogo from \"../../../components/LoaderLogo\";\nimport Message from \"../../../components/Message\";\n\nimport { actions } from \"../../../constants/productConstants\";\nimport { callApi } from \"../../../api\";\n\nconst initialState = {\n  name: \"\",\n  description: \"\",\n  price: \"\",\n  sucId: null,\n  marcId: null,\n  catId: null,\n};\nexport default function RegisterProduct({ history }) {\n  const [product, setProduct] = useState(initialState);\n  const [image, setImage] = useState();\n\n  const dispatch = useDispatch();\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n  const handleChange = (event) => {\n    setProduct({\n      ...product,\n      [event.target.name]: event.target.value,\n    });\n  };\n  const submitHandler = (e) => {\n    e.preventDefault();\n    const productData = new FormData();\n    productData.append(\"name\", product?.name);\n    productData.append(\"price\", product?.price);\n    productData.append(\"desc\", product?.description);\n    productData.append(\"sucId\", product?.sucId);\n    productData.append(\"marcId\", product?.marcId);\n    productData.append(\"catId\", product?.catId);\n    productData.append(\"img\", image);\n\n    dispatch(\n      callApi(\n        \"/api/products/createproduct/\",\n        \"POST\",\n        productData,\n        {\n          SUCESS: actions.PRODUCT_CREATE_SUCCESS,\n          REQUEST: actions.PRODUCT_CREATE_REQUEST,\n          FAIL: actions.PRODUCT_CREATE_FAIL,\n        },\n        true,\n        userInfo.token\n      )\n    );\n  };\n  return (\n    <div style={{ marginTop: \"10vh\" }}>\n      <>\n        <FormContainer>\n          <h1 style={{ width: \"100%\" }}>Crear producto</h1>\n          <Form onSubmit={submitHandler}>\n            <Form.Group controlId=\"name\">\n              <Form.Label>Nombre</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Ingresa el nombre\"\n                onChange={handleChange}\n              ></Form.Control>\n            </Form.Group>\n            <Form.Group controlId=\"desc\">\n              <Form.Label>Descripción</Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                rows={3}\n                name=\"description\"\n                placeholder=\"Ingresa los detalles\"\n                onChange={handleChange}\n              ></Form.Control>\n            </Form.Group>\n            <Form.Group controlId=\"name\">\n              <Form.Label>Precio</Form.Label>\n              <Form.Control\n                type=\"number\"\n                name=\"price\"\n                placeholder=\"Ingresa el precio\"\n                onChange={handleChange}\n              ></Form.Control>\n            </Form.Group>\n\n            {/* <Form.Group controlId=\"categorie\">\n              <Form.Label>Categoría</Form.Label>\n              <Form.Control\n                as=\"select\"\n                custom\n                onChange={(e) => setCategorieId(e.target.value)}\n              >\n                {successCategories && (\n                  <>\n                    <option selected={categorieId == \"undefined\"}>\n                      Selecciona una categoría\n                    </option>\n                    {categories?.map((categorie) => (\n                      <option\n                        value={categorie._id}\n                        selected={categorieId === categorie._id ? true : false}\n                      >\n                        {categorie.name}\n                      </option>\n                    ))}\n                  </>\n                )}\n              </Form.Control>\n            </Form.Group> */}\n            <Form.Group controlId=\"image\">\n              <Form.Label>Imagen</Form.Label>\n              {/* <div className=\"d-flex align-items-center w-100 justify-content-center\">\n                {product?.img && (\n                  <Image\n                    className=\"d-block my-4 shadow\"\n                    style={{ maxWidth: \"330px\", maxHeight: \"250px\" }}\n                    xs={6}\n                    md={4}\n                    src={`https://res.cloudinary.com/majo-floral-desing/${product.img}`}\n                  />\n                )}\n              </div> */}\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Ingresa la imagen\"\n                value={image}\n                readOnly={true}\n              ></Form.Control>\n              <Form.File\n                id=\"image-file\"\n                label=\"Elegir un archivo\"\n                custom\n                onChange={(e) => {\n                  console.log(e.target.files[0]);\n                  setImage(e.target.files[0]);\n                }}\n              ></Form.File>\n              {/* {isUploading && <Loader />} */}\n            </Form.Group>\n\n            <Button variant=\"primary\" type=\"submit\">\n              Subir\n            </Button>\n          </Form>\n        </FormContainer>\n      </>\n    </div>\n  );\n}\n","import React from 'react'\nimport { Alert } from 'react-bootstrap'\nexport default function Message({variant, children}){\n    const [open, setOpen] = React.useState(true);\n    if (open){\n        return (\n            <Alert  variant={variant} onClose={()=>setOpen(!open)}>\n                {children}\n            </Alert>\n        )\n    }else{\n        return null;\n    }\n}","import { Container, Row, Col } from \"react-bootstrap\";\n\nexport default function FormContainer({ children }) {\n  return (\n    <Container className=\"py-5\">\n      <main>\n        <Row\n          className=\"justify-content-md-center\"\n          style={{ width: \"100%\", margin: \"0\" }}\n        >\n          <Col xs={12}>{children}</Col>\n        </Row>\n      </main>\n    </Container>\n  );\n}","import axios from \"axios\";\n\nexport const callApi =\n  (url, method, body, constants, isImage = false, token=undefined) =>\n  async (dispatch) => {\n    const { REQUEST, SUCESS, FAIL } = constants;\n    try {\n      \n      dispatch({ type: REQUEST });\n      const { data } = await axios({\n        method,\n        url: url,\n        data: body,\n        headers: {\n          \"Content-Type\": isImage ? \"multipart/form-data\" : \"application/json\",\n          'Authorization': token ? `Bearer ${token}` : \"\",\n        },\n      });\n      dispatch({ type: SUCESS, payload: data });\n    } catch (error) {\n      console.log(error)\n      dispatch({\n        type: FAIL,\n        payload: error.message,\n      });\n    }\n  };"],"sourceRoot":""}