(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[10],{101:function(e,t,a){"use strict";var n=a(1),c=a(3),r=a(4),s=a.n(r),i=a(0),o=a.n(i),d=a(5),l=["bsPrefix","variant","animation","size","children","as","className"],u=o.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.variant,i=e.animation,u=e.size,j=e.children,b=e.as,m=void 0===b?"div":b,p=e.className,f=Object(c.a)(e,l),h=(a=Object(d.a)(a,"spinner"))+"-"+i;return o.a.createElement(m,Object(n.a)({ref:t},f,{className:s()(p,h,u&&h+"-"+u,r&&"text-"+r)}),j)}));u.displayName="Spinner",t.a=u},136:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return T}));var n=a(0),c=a.n(n),r=a(14),s=a(85),i=a(86),o=a(60),d=a(61),l=a(29),u=a(1),j=a(3),b=a(4),m=a.n(b),p=a(6),f=a.n(p),h=a(5),O=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],x=(f.a.string,f.a.bool,f.a.bool,f.a.bool,f.a.bool,c.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,r=e.fluid,s=e.rounded,i=e.roundedCircle,o=e.thumbnail,d=Object(j.a)(e,O);a=Object(h.a)(a,"img");var l=m()(r&&a+"-fluid",s&&"rounded",i&&"rounded-circle",o&&a+"-thumbnail");return c.a.createElement("img",Object(u.a)({ref:t},d,{className:m()(n,l)}))})));x.displayName="Image",x.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1};var v=x,E=(a(136),a(2));function S(e){var t=e.product,a=e.children;return Object(E.jsxs)(i.a,{className:"d-flex w-100 product-panel",children:[Object(E.jsx)(o.a,{md:3,xs:12,children:(null===t||void 0===t?void 0:t.prodPic)&&Object(E.jsx)("div",{className:"d-flex justify-content-center",children:Object(E.jsx)(v,{className:"d-block my-4 shadow",src:"https://res.cloudinary.com/majo-floral-desing/".concat(t.prodPic)})})}),Object(E.jsxs)(o.a,{className:"p-4",md:9,xs:12,children:[Object(E.jsx)("h4",{style:{color:"#333"},children:null===t||void 0===t?void 0:t.name}),Object(E.jsxs)("span",{children:[Object(E.jsx)("b",{children:"ID:"})," ",null===t||void 0===t?void 0:t.prodId]}),Object(E.jsxs)("span",{children:[Object(E.jsx)("b",{children:"Precio: "}),"$ ",null===t||void 0===t?void 0:t.prodPrice]}),Object(E.jsx)("span",{children:null===t||void 0===t?void 0:t.prodDesc}),a]})]})}var g=a(95),y=a(92),N=a(9);function T(e){var t=e.history,a=Object(l.b)(),c=Object(l.c)((function(e){return e.userLogin})).userInfo,u=Object(l.c)((function(e){return e.productDelete})),j=u.success,b=(u.loading,Object(l.c)((function(e){return e.productList}))),m=(b.success,b.loading),p=b.products;return Object(n.useEffect)((function(){(null===c||void 0===c?void 0:c.isAdmin)?a(Object(y.a)("/api/products/getproducts/","GET",{},{SUCESS:N.a.PRODUCT_LIST_SUCCESS,FAIL:N.a.PRODUCT_LIST_FAIL,REQUEST:N.a.PRODUCT_LIST_REQUEST})):t.push("/")}),[c,t,j]),Object(E.jsx)(s.a,{className:"mt-5",style:{minHeight:"80vh"},children:Object(E.jsxs)(i.a,{children:[Object(E.jsx)(o.a,{children:Object(E.jsx)("h1",{children:"Productos"})}),Object(E.jsx)(o.a,{children:Object(E.jsx)(r.Link,{to:"/products/register",children:Object(E.jsxs)(d.a,{variant:"primary",className:"d-block",style:{marginLeft:"auto"},children:[Object(E.jsx)("i",{className:"fas fa-plus"})," Crear producto"]})})}),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(i.a,{className:"w-100 m-0",children:m?Object(E.jsx)(g.a,{}):Object(E.jsx)(E.Fragment,{children:null===p||void 0===p?void 0:p.map((function(e){return Object(E.jsx)(o.a,{xs:12,className:"d-flex justify-content-center m-0",children:Object(E.jsxs)(S,{product:e,children:[Object(E.jsx)(r.Link,{to:"/admin/products/edit/".concat(e.id,"/"),children:Object(E.jsx)(d.a,{variant:"primary",className:"btn-sm mr-2",children:Object(E.jsx)("i",{className:"fas fa-edit"})})}),Object(E.jsx)(d.a,{variant:"danger",className:"btn-sm",onClick:function(){var t;t=e.prodId,window.confirm("Seguro que deseas eliminar este producto?")&&a(Object(y.a)("/api/products/deleteproduct/".concat(t,"/"),"DELETE",{},{SUCESS:N.a.PRODUCT_DELETE_SUCESS,FAIL:N.a.PRODUCT_DELETE_FAIL,REQUEST:N.a.PRODUCT_DELETE_REQUEST},!1,c.token))},children:Object(E.jsx)("i",{className:"fas fa-trash"})})]})})}))})})})]})})}},92:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(97),c=a.n(n),r=a(98),s=a(99),i=a.n(s),o=function(e,t,a,n){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return function(){var d=Object(r.a)(c.a.mark((function r(d){var l,u,j,b,m;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return l=n.REQUEST,u=n.SUCESS,j=n.FAIL,c.prev=1,d({type:l}),c.next=5,i()({method:t,url:e,data:a,headers:{"Content-Type":s?"multipart/form-data":"application/json",Authorization:o?"Bearer ".concat(o):""}});case 5:b=c.sent,m=b.data,d({type:u,payload:m}),c.next=14;break;case 10:c.prev=10,c.t0=c.catch(1),console.log(c.t0),d({type:j,payload:c.t0.message});case 14:case"end":return c.stop()}}),r,null,[[1,10]])})));return function(e){return d.apply(this,arguments)}}()}},95:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(101),c=a(2);function r(){return Object(c.jsx)(n.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",display:"block",margin:"auto"}})}}}]);
//# sourceMappingURL=10.4dc5d918.chunk.js.map