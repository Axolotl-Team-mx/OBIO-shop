(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[13],{101:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var c=t(108),n=t(2);function r(){return Object(n.jsx)(c.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",display:"block",margin:"auto"}})}},103:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var c=t(55),n=t(0),r=t.n(n),s=t(110),i=t(2);function o(e){var a=e.variant,t=e.children,n=r.a.useState(!0),o=Object(c.a)(n,2),l=o[0],j=o[1];return l?Object(i.jsx)(s.a,{variant:a,onClose:function(){return j(!l)},children:t}):null}},107:function(e,a,t){"use strict";t(0);var c=t(2);a.a=function(e){var a=e.value,t=e.text,n=e.color;return Object(c.jsxs)("div",{className:"rating",children:[Object(c.jsx)("span",{children:Object(c.jsx)("i",{style:{color:n},className:a>=1?"fas fa-star":a>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(c.jsx)("span",{children:Object(c.jsx)("i",{style:{color:n},className:a>=2?"fas fa-star":a>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(c.jsx)("span",{children:Object(c.jsx)("i",{style:{color:n},className:a>=3?"fas fa-star":a>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(c.jsx)("span",{children:Object(c.jsx)("i",{style:{color:n},className:a>=4?"fas fa-star":a>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(c.jsx)("span",{children:Object(c.jsx)("i",{style:{color:n},className:a>=5?"fas fa-star":a>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(c.jsx)("span",{children:t&&t})]})}},151:function(e,a,t){},167:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return y}));var c=t(28),n=t(13),r=t(55),s=t(0),i=t(27),o=t(93),l=t(67),j=t(94),d=t(66),u=t(96),b=t(159),h=t(158),O=(t(150),t(107)),f=t(15),p=t(101),v=t(103),x=t(99),m=t(7),g=(t(151),t(2)),E=[1,2,3,4,5,6,7,8],S={name:"",comment:"",rating:0,user:null};function y(e){var a,t=e.history,y=e.match.params.id,C=Object(i.b)(),T=Object(s.useState)(1),R=Object(r.a)(T,2),I=R[0],N=R[1],U=Object(s.useState)(S),k=Object(r.a)(U,2),w=k[0],D=k[1],_=Object(i.c)((function(e){return e.productDetails})),L=_.error,P=_.loading,A=(_.success,_.product),F=Object(i.c)((function(e){return e.userLogin})).userInfo,Q=Object(i.c)((function(e){return e.productReview})),G=Q.loading,M=Q.success,V=Q.error;return Object(s.useEffect)((function(){var e;(C(Object(x.a)("/api/products/getproduct/".concat(y,"/"),"GET",{},{SUCESS:m.a.PRODUCT_DETAILS_SUCCESS,FAIL:m.a.PRODUCT_DETAILS_FAIL,REQUEST:m.a.PRODUCT_DETAILS_REQUEST})),F)&&D(Object(n.a)(Object(n.a)({},w),{},(e={},Object(c.a)(e,"name",null===F||void 0===F?void 0:F.name),Object(c.a)(e,"user",null===F||void 0===F?void 0:F.id),e)))}),[y,t,F,M]),Object(s.useEffect)((function(){C({type:m.a.PRODUCT_REVIEW_RESET})}),[t]),P?Object(g.jsx)("div",{style:{minHeight:"100vh",marginTop:"15vh"},children:Object(g.jsx)(p.a,{})}):L?Object(g.jsx)("div",{style:{minHeight:"100vh",marginTop:"15vh"},children:Object(g.jsx)(v.a,{variant:"danger",children:L})}):Object(g.jsxs)("div",{style:{marginTop:"10vh",overflowX:"hidden",marginBottom:"5vh"},children:[Object(g.jsx)(o.a,{className:"p-5","data-aos":"fade-down",children:Object(g.jsxs)("div",{children:[Object(g.jsx)(f.Link,{to:"/",children:Object(g.jsxs)(l.a,{children:[" ",Object(g.jsx)("i",{className:"fas fa-exchange-alt"})," Regresar"]})}),Object(g.jsx)("h1",{className:"text-primary mt-3",children:null===A||void 0===A?void 0:A.prodName})]})}),Object(g.jsxs)(o.a,{children:[Object(g.jsxs)(j.a,{children:[Object(g.jsx)(d.a,{md:5,children:Object(g.jsx)(h.a,{children:Object(g.jsx)("img",{className:"image-product",src:"https://res.cloudinary.com/jordiespinoza/".concat(null===A||void 0===A?void 0:A.prodPic)})})}),Object(g.jsxs)(d.a,{md:4,className:"p-5",children:[Object(g.jsxs)("h1",{children:["$ ",null===A||void 0===A?void 0:A.prodPrice,"MXN"]}),Object(g.jsx)(O.a,{value:null===A||void 0===A?void 0:A.rating,color:"#d3a007"}),Object(g.jsx)("a",{href:"https://www.facebook.com/sharer/sharer.php?s=100&p[url]=https://obioshop.herokuapp.com/#/products/".concat(y,"&p[images][0]=&p[title]=Title%20Goes%20Here&p[summary]=Description%20goes%20here!"),target:"_blank",children:Object(g.jsxs)("button",{type:"button",class:"btn btn-facebook btn-lg",children:[Object(g.jsx)("i",{class:"fab fa-facebook-f"})," Compartir en Facebook"]})}),Object(g.jsx)("span",{children:null===A||void 0===A?void 0:A.prodDesc}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsxs)("h6",{children:["Cantidad a comprar ",Object(g.jsx)("i",{class:"fas fa-shopping-basket"})]}),Object(g.jsx)(u.a.Control,{as:"select",className:"mb-3",value:I,onChange:function(e){return N(e.target.value)},children:E.map((function(e){return Object(g.jsx)("option",{value:e,children:e},e)}))}),Object(g.jsxs)(l.a,{variant:"success",type:"button",onClick:function(e){F?t.push("/cart/".concat(A.prodId,"?qty=").concat(I)):t.push("/login")},className:"btn btn-primary",children:["A\xf1adir al carro ",Object(g.jsx)("i",{className:"fas fa-shopping-cart"})]})]}),Object(g.jsxs)(d.a,{md:3,children:[F?Object(g.jsxs)(u.a,{onSubmit:function(e){e.preventDefault(),C(Object(x.a)("/api/products/createreview/".concat(null===A||void 0===A?void 0:A.prodId,"/"),"POST",w,{SUCESS:m.a.PRODUCT_REVIEW_SUCCESS,REQUEST:m.a.PRODUCT_REVIEW_REQUEST,FAIL:m.a.PRODUCT_REVIEW_FAIL},!1,null===F||void 0===F?void 0:F.token))},children:[Object(g.jsxs)(u.a.Group,{children:[Object(g.jsx)(u.a.Label,{children:"Calificaci\xf3n"}),Object(g.jsxs)(u.a.Control,{as:"select",onChange:function(e){return D(Object(n.a)(Object(n.a)({},w),{},Object(c.a)({},"rating",e.target.value)))},children:[Object(g.jsx)("option",{value:"0",children:"Selecciona una opci\xf3n"}),Object(g.jsx)("option",{value:"1",children:"1 - Muy malo"}),Object(g.jsx)("option",{value:"2",children:"2 - Malo"}),Object(g.jsx)("option",{value:"3",children:"3 - Bueno"}),Object(g.jsx)("option",{value:"4",children:"4 - Muy bueno"}),Object(g.jsx)("option",{value:"5",children:"5 - Excelente"})]})]}),Object(g.jsxs)(u.a.Group,{children:[Object(g.jsx)(u.a.Label,{children:"Comentarios"}),Object(g.jsx)(u.a.Control,{as:"textarea",row:"5",name:"comment",onChange:function(e){D(Object(n.a)(Object(n.a)({},w),{},Object(c.a)({},e.target.name,e.target.value)))}})]}),V&&Object(g.jsx)(v.a,{variant:"danger",children:"Ingresa una calificaci\xf3n"}),M&&Object(g.jsx)(v.a,{variant:"success",children:"Review agregada"}),G?Object(g.jsx)(p.a,{}):Object(g.jsx)(l.a,{variant:"success",type:"submit",children:"Enviar"})]}):Object(g.jsxs)(v.a,{variant:"info",children:["Para realizar una review debes hacer"," ",Object(g.jsx)(f.Link,{to:"/login",children:"login"})]}),Object(g.jsx)("h3",{children:"Comentarios"}),Object(g.jsx)(b.a,{variant:"flush",children:null===A||void 0===A||null===(a=A.reviews)||void 0===a?void 0:a.map((function(e){return Object(g.jsxs)(b.a.Item,{children:[Object(g.jsx)("strong",{children:e.revName}),Object(g.jsx)(O.a,{value:e.revRating,color:"#d3a007"}),Object(g.jsx)("p",{children:e.revDate.substring(0,10)}),Object(g.jsx)("p",{children:e.revComment})]})}))})]})]}),Object(g.jsx)("hr",{})]})]})}},99:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var c=t(104),n=t.n(c),r=t(105),s=t(106),i=t.n(s),o=function(e,a,t,c){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return function(){var l=Object(r.a)(n.a.mark((function r(l){var j,d,u,b,h;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return j=c.REQUEST,d=c.SUCESS,u=c.FAIL,n.prev=1,l({type:j}),n.next=5,i()({method:a,url:e,data:t,headers:{"Content-Type":s?"multipart/form-data":"application/json",Authorization:o?"Bearer ".concat(o):""}});case 5:b=n.sent,h=b.data,l({type:d,payload:h}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0),l({type:u,payload:n.t0.message});case 14:case"end":return n.stop()}}),r,null,[[1,10]])})));return function(e){return l.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=13.339591be.chunk.js.map