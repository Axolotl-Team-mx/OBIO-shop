{"version":3,"sources":["views/Store/LoginScreen/index.js","components/Message/index.js","components/FormContainer/index.js","api/index.js"],"names":["LoginScreen","history","useState","email","setEmail","password","setPassword","dispatch","useDispatch","userLogin","useSelector","state","error","loading","userInfo","style","marginTop","onSubmit","e","preventDefault","callApi","username","SUCESS","actions","USER_LOGIN_SUCCESS","REQUEST","USER_LOGIN_REQUEST","FAIL","USER_LOGIN_FAIL","Group","controlId","Label","Control","type","placeholder","value","required","onChange","target","className","variant","Message","children","React","open","setOpen","onClose","FormContainer","width","margin","xs","url","method","body","constants","isImage","token","undefined","a","axios","data","headers","payload","console","log","message"],"mappings":"gPAYe,SAASA,EAAT,GAAkC,EAAXC,QAAY,IAChD,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACMC,EAAWC,cAEXC,EAAYC,aAAY,SAACC,GAAD,OAAWA,EAAMF,aACvCG,EAA6BH,EAA7BG,MAAOC,EAAsBJ,EAAtBI,QAAsBJ,EAAbK,SA0BxB,OACE,qBAAKC,MAAO,CAAEC,UAAW,QAAzB,SACE,+BACGH,EACC,cAAC,IAAD,IAEA,eAAC,IAAD,CAAeE,MAAO,CAAEC,UAAW,QAAnC,UACE,uCACA,eAAC,IAAD,CAAMC,SAhCM,SAACC,GACrBA,EAAEC,iBACFZ,EACEa,YACE,oBACA,OACA,CAAEC,SAAUlB,EAAOE,YACnB,CACEiB,OAAQC,IAAQC,mBAChBC,QAASF,IAAQG,mBACjBC,KAAMJ,IAAQK,oBAsBZ,UACE,eAAC,IAAKC,MAAN,CAAYC,UAAU,OAAtB,UACE,cAAC,IAAKC,MAAN,gCACA,cAAC,IAAKC,QAAN,CACEC,KAAK,OACLC,YAAY,+BACZC,MAAOhC,EACPiC,UAAQ,EACRC,SAAU,SAACnB,GAAD,OAAOd,EAASc,EAAEoB,OAAOH,aAGvC,eAAC,IAAKN,MAAN,CAAYC,UAAU,WAAtB,UACE,cAAC,IAAKC,MAAN,4BACA,cAAC,IAAKC,QAAN,CACEC,KAAK,WACLC,YAAY,2BACZE,UAAQ,EACRD,MAAO9B,EACPgC,SAAU,SAACnB,GAAD,OAAOZ,EAAYY,EAAEoB,OAAOH,aAG1C,cAAC,IAAD,CAAQI,UAAU,OAAON,KAAK,SAASO,QAAQ,UAA/C,+BAGC5B,GACC,cAAC,IAAD,CAAS4B,QAAQ,SAASzB,MAAO,CAAEC,UAAW,QAA9C,6D,8GC3ED,SAASyB,EAAT,GAAsC,IAApBD,EAAmB,EAAnBA,QAASE,EAAU,EAAVA,SACtC,EAAwBC,IAAMzC,UAAS,GAAvC,mBAAO0C,EAAP,KAAaC,EAAb,KACA,OAAID,EAEI,cAAC,IAAD,CAAQJ,QAASA,EAASM,QAAS,kBAAID,GAASD,IAAhD,SACKF,IAIF,O,gCCXf,qEAEe,SAASK,EAAT,GAAsC,IAAbL,EAAY,EAAZA,SACtC,OACE,cAAC,IAAD,CAAWH,UAAU,OAArB,SACE,+BACE,cAAC,IAAD,CACEA,UAAU,4BACVxB,MAAO,CAAEiC,MAAO,OAAQC,OAAQ,KAFlC,SAIE,cAAC,IAAD,CAAKC,GAAI,GAAT,SAAcR,Y,gHCRXtB,EACX,SAAC+B,EAAKC,EAAQC,EAAMC,GAApB,IAA+BC,EAA/B,wDAAgDC,EAAhD,4DAAsDC,EAAtD,8CACA,WAAOlD,GAAP,uBAAAmD,EAAA,6DACUjC,EAA0B6B,EAA1B7B,QAASH,EAAiBgC,EAAjBhC,OAAQK,EAAS2B,EAAT3B,KAD3B,SAIIpB,EAAS,CAAE0B,KAAMR,IAJrB,SAK2BkC,IAAM,CAC3BP,SACAD,IAAKA,EACLS,KAAMP,EACNQ,QAAS,CACP,eAAgBN,EAAU,sBAAwB,mBAClD,cAAiBC,EAAK,iBAAaA,GAAU,MAXrD,gBAKYI,EALZ,EAKYA,KASRrD,EAAS,CAAE0B,KAAMX,EAAQwC,QAASF,IAdtC,kDAgBIG,QAAQC,IAAR,MACAzD,EAAS,CACP0B,KAAMN,EACNmC,QAAS,KAAMG,UAnBrB,0DADA","file":"static/js/7.b31edd99.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport LoaderLogo from \"../../../components/LoaderLogo\";\nimport Message from \"../../../components/Message\";\nimport FormContainer from \"../../../components/FormContainer\";\n\nimport { Form, Button, Container } from \"react-bootstrap\";\n\nimport { actions } from \"../../../constants/userConstants\";\nimport { callApi } from \"../../../api\";\n\nexport default function LoginScreen({ history }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { error, loading, userInfo } = userLogin;\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(\n      callApi(\n        \"/api/users/login/\",\n        \"POST\",\n        { username: email, password },\n        {\n          SUCESS: actions.USER_LOGIN_SUCCESS,\n          REQUEST: actions.USER_LOGIN_REQUEST,\n          FAIL: actions.USER_LOGIN_FAIL,\n        }\n      )\n    );\n  };\n\n  // useEffect(() => {\n  //   if (!userInfo) {\n\n  //   }\n\n  //   if (userInfo) history.push(\"/\");\n  // }, [history, userInfo]);\n\n  return (\n    <div style={{ marginTop: \"10vh\" }}>\n      <main>\n        {loading ? (\n          <LoaderLogo />\n        ) : (\n          <FormContainer style={{ marginTop: \"10vh\" }}>\n            <h2>Login</h2>\n            <Form onSubmit={submitHandler}>\n              <Form.Group controlId=\"user\">\n                <Form.Label>Nombre de usuario</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Ingresa el nombre de usuario\"\n                  value={email}\n                  required\n                  onChange={(e) => setEmail(e.target.value)}\n                ></Form.Control>\n              </Form.Group>\n              <Form.Group controlId=\"password\">\n                <Form.Label>Contrase침a</Form.Label>\n                <Form.Control\n                  type=\"password\"\n                  placeholder=\"Ingresa la contrase침a\"\n                  required\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                ></Form.Control>\n              </Form.Group>\n              <Button className=\"mb-2\" type=\"submit\" variant=\"primary\">\n                Iniciar sesi칩n\n              </Button>\n              {error && (\n                <Message variant=\"danger\" style={{ marginTop: \"25px\" }}>\n                  Usuario o contrase침a incorrectos\n                </Message>\n              )}\n            </Form>\n          </FormContainer>\n        )}\n      </main>\n    </div>\n  );\n}\n","import React from 'react'\nimport { Alert } from 'react-bootstrap'\nexport default function Message({variant, children}){\n    const [open, setOpen] = React.useState(true);\n    if (open){\n        return (\n            <Alert  variant={variant} onClose={()=>setOpen(!open)}>\n                {children}\n            </Alert>\n        )\n    }else{\n        return null;\n    }\n}","import { Container, Row, Col } from \"react-bootstrap\";\n\nexport default function FormContainer({ children }) {\n  return (\n    <Container className=\"py-5\">\n      <main>\n        <Row\n          className=\"justify-content-md-center\"\n          style={{ width: \"100%\", margin: \"0\" }}\n        >\n          <Col xs={12}>{children}</Col>\n        </Row>\n      </main>\n    </Container>\n  );\n}","import axios from \"axios\";\n\nexport const callApi =\n  (url, method, body, constants, isImage = false, token=undefined) =>\n  async (dispatch) => {\n    const { REQUEST, SUCESS, FAIL } = constants;\n    try {\n      \n      dispatch({ type: REQUEST });\n      const { data } = await axios({\n        method,\n        url: url,\n        data: body,\n        headers: {\n          \"Content-Type\": isImage ? \"multipart/form-data\" : \"application/json\",\n          'Authorization': token ? `Bearer ${token}` : \"\",\n        },\n      });\n      dispatch({ type: SUCESS, payload: data });\n    } catch (error) {\n      console.log(error)\n      dispatch({\n        type: FAIL,\n        payload: error.message,\n      });\n    }\n  };"],"sourceRoot":""}