(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[11],{104:function(e,t,n){"use strict";var a=n(1),c=n(3),r=n(4),s=n.n(r),i=n(0),o=n.n(i),d=n(5),l=["bsPrefix","variant","animation","size","children","as","className"],u=o.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,i=e.animation,u=e.size,j=e.children,b=e.as,p=void 0===b?"div":b,m=e.className,f=Object(c.a)(e,l),h=(n=Object(d.a)(n,"spinner"))+"-"+i;return o.a.createElement(p,Object(a.a)({ref:t},f,{className:s()(m,h,u&&h+"-"+u,r&&"text-"+r)}),j)}));u.displayName="Spinner",t.a=u},140:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var a=n(0),c=n.n(a),r=n(14),s=n(88),i=n(89),o=n(62),d=n(63),l=n(29),u=n(1),j=n(3),b=n(4),p=n.n(b),m=n(6),f=n.n(m),h=n(5),O=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],x=(f.a.string,f.a.bool,f.a.bool,f.a.bool,f.a.bool,c.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,r=e.fluid,s=e.rounded,i=e.roundedCircle,o=e.thumbnail,d=Object(j.a)(e,O);n=Object(h.a)(n,"img");var l=p()(r&&n+"-fluid",s&&"rounded",i&&"rounded-circle",o&&n+"-thumbnail");return c.a.createElement("img",Object(u.a)({ref:t},d,{className:p()(a,l)}))})));x.displayName="Image",x.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1};var v=x,E=(n(140),n(2));function S(e){var t=e.product,n=e.children;return Object(E.jsxs)(i.a,{className:"d-flex w-100 product-panel",children:[Object(E.jsx)(o.a,{md:3,xs:12,children:(null===t||void 0===t?void 0:t.prodPic)&&Object(E.jsx)("div",{className:"d-flex justify-content-center",children:Object(E.jsx)(r.Link,{to:"/products/".concat(t.prodId),children:Object(E.jsx)(v,{className:"d-block my-4 shadow",src:"https://res.cloudinary.com/jordiespinoza/".concat(t.prodPic)})})})}),Object(E.jsxs)(o.a,{className:"p-4",md:9,xs:12,children:[Object(E.jsx)("h4",{style:{color:"#333"},children:null===t||void 0===t?void 0:t.name}),Object(E.jsxs)("span",{children:[Object(E.jsx)("b",{children:"ID:"})," ",null===t||void 0===t?void 0:t.prodId]}),Object(E.jsxs)("span",{children:[Object(E.jsx)("b",{children:"Precio: "}),"$ ",null===t||void 0===t?void 0:t.prodPrice]}),Object(E.jsx)("span",{children:null===t||void 0===t?void 0:t.prodDesc}),n]})]})}var g=n(98),y=n(95),N=n(7);function T(e){var t=e.history,n=Object(l.b)(),c=Object(l.c)((function(e){return e.userLogin})).userInfo,u=Object(l.c)((function(e){return e.productDelete})),j=u.success,b=(u.loading,Object(l.c)((function(e){return e.productList}))),p=(b.success,b.loading),m=b.products;return Object(a.useEffect)((function(){(null===c||void 0===c?void 0:c.isAdmin)||!c?n(Object(y.a)("/api/products/getproducts/","GET",{},{SUCESS:N.a.PRODUCT_LIST_SUCCESS,FAIL:N.a.PRODUCT_LIST_FAIL,REQUEST:N.a.PRODUCT_LIST_REQUEST})):t.push("/")}),[c,t,j]),Object(E.jsx)(s.a,{className:"mt-5",style:{minHeight:"80vh"},children:Object(E.jsxs)(i.a,{children:[Object(E.jsx)(o.a,{children:Object(E.jsx)("h1",{children:"Productos"})}),Object(E.jsx)(o.a,{children:Object(E.jsx)(r.Link,{to:"/products/register",children:Object(E.jsxs)(d.a,{variant:"primary",className:"d-block",style:{marginLeft:"auto"},children:[Object(E.jsx)("i",{className:"fas fa-plus"})," Crear producto"]})})}),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(i.a,{className:"w-100 m-0",children:p?Object(E.jsx)(g.a,{}):Object(E.jsx)(E.Fragment,{children:null===m||void 0===m?void 0:m.map((function(e){return Object(E.jsx)(o.a,{xs:12,className:"d-flex justify-content-center m-0",children:Object(E.jsxs)(S,{product:e,children:[Object(E.jsx)(r.Link,{to:"/admin/products/edit/".concat(e.id,"/"),children:Object(E.jsx)(d.a,{variant:"primary",className:"btn-sm mr-2",children:Object(E.jsx)("i",{className:"fas fa-edit"})})}),Object(E.jsx)(d.a,{variant:"danger",className:"btn-sm",onClick:function(){var t;t=e.prodId,window.confirm("Seguro que deseas eliminar este producto?")&&n(Object(y.a)("/api/products/deleteproduct/".concat(t,"/"),"DELETE",{},{SUCESS:N.a.PRODUCT_DELETE_SUCESS,FAIL:N.a.PRODUCT_DELETE_FAIL,REQUEST:N.a.PRODUCT_DELETE_REQUEST},!1,c.token))},children:Object(E.jsx)("i",{className:"fas fa-trash"})})]})})}))})})})]})})}},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(100),c=n.n(a),r=n(101),s=n(102),i=n.n(s),o=function(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return function(){var d=Object(r.a)(c.a.mark((function r(d){var l,u,j,b,p;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return l=a.REQUEST,u=a.SUCESS,j=a.FAIL,c.prev=1,d({type:l}),c.next=5,i()({method:t,url:e,data:n,headers:{"Content-Type":s?"multipart/form-data":"application/json",Authorization:o?"Bearer ".concat(o):""}});case 5:b=c.sent,p=b.data,d({type:u,payload:p}),c.next=14;break;case 10:c.prev=10,c.t0=c.catch(1),console.log(c.t0),d({type:j,payload:c.t0.message});case 14:case"end":return c.stop()}}),r,null,[[1,10]])})));return function(e){return d.apply(this,arguments)}}()}},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(104),c=n(2);function r(){return Object(c.jsx)(a.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",display:"block",margin:"auto"}})}}}]);
//# sourceMappingURL=11.41176578.chunk.js.map